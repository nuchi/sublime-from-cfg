%YAML 1.2
---
version: 2
name: test
file_extensions:
- test
scope: source.test
contexts:
  pop2!:
  - match: ''
    pop: 2
  pop3!:
  - match: ''
    pop: 3
  fail!:
  - match: (?=\S)
    pop: 1
  fail_forever!:
  - match: \S
    scope: invalid.illegal.test
  main:
  - match: ''
    push: [fail_forever!, fail_forever!, main/]
  main/:
  - match: (?=x)
    set: main/@1
  - include: fail!
  main/@0:
  - match: ''
    set: [pop2!]
  main/@1:
  - match: ''
    set: [main/, pop2!, ca-or-cb, pop2!, xs]
  main/@follow:
  - include: fail!
  ca-or-cb:
  - match: (?=c)
    set: ca-or-cb!0,1
  - include: fail!
  ca-or-cb!0,1:
  - match: ''
    branch_point: ca-or-cb!0,1
    branch: ['ca-or-cb!0,1@0', 'ca-or-cb!0,1@1']
  ca-or-cb!0,1@fail:
  - match: ''
    fail: ca-or-cb!0,1
  ca-or-cb!0,1@0:
  - match: ''
    set: [pop3!, 'ca-or-cb!0,1@fail', ca-or-cb@follow, pop2!, ca-or-cb@0]
  ca-or-cb!0,1@1:
  - match: ''
    set: [pop3!, pop3!, ca-or-cb@follow, pop2!, ca-or-cb@1]
  ca-or-cb@0:
  - match: ''
    set: [ca]
  ca-or-cb@1:
  - match: ''
    set: [cb]
  ca-or-cb@follow:
  - match: (?=x)
    pop: 2
  - include: fail!
  xs:
  - match: (?=x)
    set: xs!0,1
  - include: fail!
  xs!0,1:
  - match: ''
    branch_point: xs!0,1
    branch: ['xs!0,1@0', 'xs!0,1@1']
  xs!0,1@fail:
  - match: ''
    fail: xs!0,1
  xs!0,1@0:
  - match: ''
    set: [pop3!, 'xs!0,1@fail', xs@follow, pop2!, xs@0]
  xs!0,1@1:
  - match: ''
    set: [pop3!, pop3!, xs@follow, pop2!, xs@1]
  xs@0:
  - match: ''
    set: [T.0]
  xs@1:
  - match: ''
    set: [xs, pop2!, T.0]
  xs@follow:
  - match: (?=c)
    pop: 2
  - include: fail!
  ca:
  - match: ''
    set:
    - ca"meta
    - pop2!
    - ca"
  ca"meta:
  - meta_scope: variable.function.test
  - match: ''
    pop: 2
  ca":
  - match: (?=c)
    set: ca"@0
  - include: fail!
  ca"@0:
  - match: ''
    set: [T.1, pop2!, T.2]
  ca"@follow:
  - match: (?=x)
    pop: 2
  - include: fail!
  cb:
  - match: ''
    set:
    - cb"meta
    - pop2!
    - cb"
  cb"meta:
  - meta_scope: variable.parameter.test
  - match: ''
    pop: 2
  cb":
  - match: (?=c)
    set: cb"@0
  - include: fail!
  cb"@0:
  - match: ''
    set: [T.3, pop2!, T.4]
  cb"@follow:
  - match: (?=x)
    pop: 2
  - include: fail!
  T.0:
  - match: x
    pop: 2
    scope: entity.name.test
  - include: fail!
  T.1:
  - match: a
    pop: 2
  - include: fail!
  T.2:
  - match: c
    pop: 2
    scope: ac.test
  - include: fail!
  T.3:
  - match: b
    pop: 2
  - include: fail!
  T.4:
  - match: c
    pop: 2
    scope: bc.test
  - include: fail!
