%YAML 1.2
---
version: 2
name: test
file_extensions:
- test
scope: source.test
contexts:
  pop2!:
  - match: ''
    pop: 2
  pop3!:
  - match: ''
    pop: 3
  fail!:
  - match: (?=\S)
    pop: 1
  fail_forever!:
  - match: \S
    scope: invalid.illegal.test
  main:
  - match: ''
    push: [fail_forever!, fail_forever!, main/]
  main/:
  - match: (?=x)
    set: main/@1
  - match: (?=")
    set: main/@1
  - match: (?=\S)
    set: main/@1
  main/@follow:
  - include: fail!
  main/@0:
  - match: ''
    set: [pop2!]
  main/@1:
  - match: ''
    set: [main/, pop2!, line]
  line:
  - match: (?=")
    set: line@1
  - match: (?=x)
    set: line@0
  - match: (?=\S)
    set: line@0
  line@0:
  - match: ''
    set: [ca-or-cb, pop2!, xs]
  line@1:
  - match: ''
    set: [string]
  string:
  - match: ''
    set:
    - string"meta
    - pop2!
    - string"
  string"meta:
  - meta_scope: string.quoted.test
  - match: ''
    pop: 2
  string":
  - match: (?=")
    set: string"@0
  - include: fail!
  string"@0:
  - match: ''
    set: [T.0, pop2!, T.1]
  ca-or-cb:
  - match: (?=c)
    set: ca-or-cb!0,1
  - include: fail!
  ca-or-cb!0,1:
  - match: ''
    branch_point: ca-or-cb!0,1
    branch: ['ca-or-cb!0,1@0', 'ca-or-cb!0,1@1']
  ca-or-cb!0,1@fail:
  - match: ''
    fail: ca-or-cb!0,1
  ca-or-cb!0,1@0:
  - match: ''
    set: [pop3!, 'ca-or-cb!0,1@fail', pop2!, pop2!, ca-or-cb@0]
  ca-or-cb!0,1@1:
  - match: ''
    set: [pop3!, pop3!, pop2!, pop2!, ca-or-cb@1]
  ca-or-cb@0:
  - match: ''
    set: [ca]
  ca-or-cb@1:
  - match: ''
    set: [cb]
  xs:
  - match: (?=x)
    set: xs!0,1
  - match: (?=\S)
    set: xs@1
  xs@follow:
  - match: (?=c)
    pop: 2
  - include: fail!
  xs!0,1:
  - match: ''
    branch_point: xs!0,1
    branch: ['xs!0,1@0', 'xs!0,1@1']
  xs!0,1@fail:
  - match: ''
    fail: xs!0,1
  xs!0,1@0:
  - match: ''
    set: [pop3!, 'xs!0,1@fail', xs@follow, pop2!, xs@0]
  xs!0,1@1:
  - match: ''
    set: [pop3!, pop3!, xs@follow, pop2!, xs@1]
  xs@0:
  - match: ''
    set: [T.2]
  xs@1:
  - match: ''
    set: [xs, pop2!, T.3]
  ca:
  - match: ''
    set:
    - ca"meta
    - pop2!
    - ca"
  ca"meta:
  - meta_scope: variable.function.test
  - match: ''
    pop: 2
  ca":
  - match: (?=c)
    set: ca"@0
  - include: fail!
  ca"@0:
  - match: ''
    set: [T.4, pop2!, T.5]
  cb:
  - match: ''
    set:
    - cb"meta
    - pop2!
    - cb"
  cb"meta:
  - meta_scope: variable.parameter.test
  - match: ''
    pop: 2
  cb":
  - match: (?=c)
    set: cb"@0
  - include: fail!
  cb"@0:
  - match: ''
    set: [T.6, pop2!, T.7]
  T.0:
  - match: '"'
    pop: 2
    scope: punctuation.definition.string.end.test
  T.1:
  - match: '"'
    pop: 2
    scope: punctuation.definition.string.begin.test
  - include: fail!
  T.2:
  - match: x
    pop: 2
    scope: keyword.operator.test
  - include: fail!
  T.3:
  - match: x
    pop: 2
    scope: entity.name.test
  T.4:
  - match: a
    pop: 2
  - include: fail!
  T.5:
  - match: c
    pop: 2
    scope: ac.test
  - include: fail!
  T.6:
  - match: b
    pop: 2
  - include: fail!
  T.7:
  - match: c
    pop: 2
    scope: bc.test
  - include: fail!
